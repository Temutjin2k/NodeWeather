<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football League Standings</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f4f4f9;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: #ffffff;
        }

        table,
        th,
        td {
            border: 1px solid #ddd;
        }

        th,
        td {
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: #0073e6;
            color: white;
        }

        .team-logo {
            width: 30px;
            height: 30px;
        }

        .league-header {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .league-header img {
            width: 50px;
        }
    </style>
</head>

<body>
    <h1>Football League Standings</h1>
    <div id="standings"></div>

    <script>
        async function fetchStandings() {
            try {
                const response = await fetch('/api/football');
                const data = await response.json();

                const league = data.response[0].league;
                const standings = league.standings[0];

                const container = document.getElementById('standings');

                // Add league information
                const leagueHeader = document.createElement('div');
                leagueHeader.className = 'league-header';
                leagueHeader.innerHTML = `
                    <img src="${league.logo}" alt="League Logo">
                    <h2>${league.name} (${league.season})</h2>
                `;
                container.appendChild(leagueHeader);

                // Create standings table
                const table = document.createElement('table');
                table.innerHTML = `
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Team</th>
                            <th>Points</th>
                            <th>Goal Difference</th>
                            <th>Last 5 matches</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${standings.map(team => `
                            <tr>
                                <td>${team.rank}</td>
                                <td>
                                    <img src="${team.team.logo}" alt="${team.team.name} Logo" class="team-logo">
                                    ${team.team.name}
                                </td>
                                <td>${team.points}</td>
                                <td>${team.goalsDiff}</td>
                                <td>${team.form}</td>
                            </tr>
                        `).join('')}
                    </tbody>
                `;
                container.appendChild(table);
            } catch (error) {
                console.error('Error fetching standings:', error);
                document.getElementById('standings').textContent = 'Failed to load standings.';
            }
        }

        fetchStandings();
    </script>
</body>

</html>